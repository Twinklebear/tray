<xml>
	<scene>
		<!-- Objects -->
		<object name="box">
			<translate x="0" y="0" z="12"/>
			<object type="plane" name="WallBottom" material="checker_floor">
				<scale value="32"/>
				<translate z="-12"/>
			</object>
			<object type="plane" name="WallTop" material="wall">
				<scale value="32"/>
				<rotate angle="180" x="1"/>
				<translate z="12"/>
			</object>
			<object type="plane" name="WallBack" material="wall">
				<scale value="32"/>
				<rotate angle="90" x="1"/>
				<translate y="20"/>
			</object>
			<object type="plane" name="WallLeft" material="wallRed">
				<scale value="32"/>
				<rotate angle="90" y="1"/>
				<translate x="-15"/>
			</object>
			<object type="plane" name="WallRight" material="wallGreen">
				<scale value="32"/>
				<rotate angle="-90" y="1"/>
				<translate x="15"/>
			</object>
		</object>
		<object type="obj" name="models/buddha.obj" material="white_marble">
			<scale value="17"/>
			<rotate angle="90" x="1"/>
			<rotate angle="-125" z="1"/>
			<translate x="-9.5" y="-6" z="7.5"/>
		</object>
		<object type="obj" name="models/teapot_hres.obj" material="rough_gold">
			<scale value="0.8"/>
			<rotate angle="-35" z="1"/>
			<translate y="6.5" z="-0.15"/>
		</object>
		<object type="obj" name="./models/dragon.obj" material="red_fabric">
			<scale value="9.5"/>
			<rotate angle="90" x="1"/>
			<rotate angle="110" z="1"/>
			<translate x="7" y="-7" z="2.65"/>
		</object>

		<object type="disk" name="disk" material="wall" radius="3.5">
			<rotate angle="180" y="1"/>
			<translate z="23.8"/>
			<light type="area" name="areaLight">
				<intensity r="1" g="0.772549" b="0.560784" value="40"/>
			</light>
		</object>
		<!-- Light comes out of +Z if not rotated -->
		<object name="spotlight_ring">
			<translate x="-8.75" y="-6" z="0.5"/>
			<object name="cylinder_spotlight">
				<rotate angle="20" x="1"/>
				<rotate angle="-90" z="1"/>
				<translate x="6"/>
				<object type="cylinder" name="cylinder" material="rough_copper" height="1.25" radius="0.75">
				</object>
				<object type="disk_cyl" name="cylinder_disk_light" material="wall" radius="0.74">
					<translate z="0.75"/>
					<light type="area" name="cylinder_area_light">
						<intensity r="1" g="0.772549" b="0.560784" value="35"/>
					</light>
				</object>
			</object>
			<object name="cylinder_spotlight">
				<rotate angle="20" x="1"/>
				<rotate angle="-120" z="1"/>
				<translate x="4.75" y="-4.75"/>
				<object type="cylinder" name="cylinder" material="rough_copper" height="1.25" radius="0.75">
				</object>
				<object type="disk_cyl" name="cylinder_disk_light" material="wall" radius="0.74">
					<translate z="0.75"/>
					<light type="area" name="cylinder_area_light1">
						<intensity r="1" g="0.772549" b="0.560784" value="35"/>
					</light>
				</object>
			</object>
			<object name="cylinder_spotlight">
				<rotate angle="20" x="1"/>
				<rotate angle="-150" z="1"/>
				<translate x="1.35" y="-6.75"/>
				<object type="cylinder" name="cylinder" material="rough_copper" height="1.25" radius="0.75">
				</object>
				<object type="disk_cyl" name="cylinder_disk_light" material="wall" radius="0.74">
					<translate z="0.75"/>
					<light type="area" name="cylinder_area_light2">
						<intensity r="1" g="0.772549" b="0.560784" value="35"/>
					</light>
				</object>
			</object>
			<object name="cylinder_spotlight">
				<rotate angle="20" x="1"/>
				<rotate angle="-60" z="1"/>
				<translate x="4.75" y="5.25"/>
				<object type="cylinder" name="cylinder" material="rough_copper" height="1.25" radius="0.75">
				</object>
				<object type="disk_cyl" name="cylinder_disk_light" material="wall" radius="0.74">
					<translate z="0.75"/>
					<light type="area" name="cylinder_area_light3">
						<intensity r="1" g="0.772549" b="0.560784" value="35"/>
					</light>
				</object>
			</object>
		</object>

		<volume_node name="floor_fog_node">
			<scale x="20" y="20" z="4.5"/>
			<volume name="floor_fog" type="exponential">
				<absorption value="0.04"/>
				<scattering value="0.08"/>
				<emission value="0.0005"/>
				<phase_asymmetry value="-0.67"/>
				<a value="4"/>
				<b value="1.2"/>
				<min x="-1" y="-1" z="0"/>
				<max x="1" y="1" z="1"/>
				<up x="0" y="0" z="1"/>
			</volume>
		</volume_node>
		<volume_node name="teapot_steam_node">
			<scale x="9.5" y="12" z="12"/>
			<rotate angle="-90" x="1"/>
			<rotate angle="180" z="1"/>
			<translate x="13.9" y="-0.8" z="15.55"/>
			<volume name="teapot_steam" type="vol" file="volumes/teapot_steam.vol">
				<absorption value="0.06"/>
				<scattering value="0.008"/>
				<emission value="0.0005"/>
				<phase_asymmetry value="-0.47"/>
				<density_scale value="300"/>
			</volume>
		</volume_node>

		<!-- Materials -->
		<material type="matte" name="wall">
			<diffuse r="0.740063" g="0.742313" b="0.733934"/>
			<roughness value="1"/>
		</material>
		<material type="matte" name="wallRed">
			<diffuse r="0.366046" g="0.0371827" b="0.0416385"/>
			<roughness value="1"/>
		</material>
		<material type="matte" name="wallGreen">
			<diffuse r="0.162928" g="0.408903" b="0.0833759"/>
			<roughness value="1"/>
		</material>
		<material type="metal" name="rough_gold">
			<ior spd="./spds/Au.eta.spd"/>
			<absorption spd="./spds/Au.k.spd"/>
			<roughness value="0.0005"/>
		</material>
		<material type="metal" name="rough_copper">
			<ior spd="./spds/Cu.eta.spd"/>
			<absorption spd="./spds/Cu.k.spd"/>
			<roughness value="0.06"/>
		</material>
		<material type="metal" name="aniso_copper">
			<ior spd="./spds/Cu.eta.spd"/>
			<absorption spd="./spds/Cu.k.spd"/>
			<roughness x="0.01" y="0.003"/>
		</material>
		<material type="merl" name="blue_acrylic" file="./brdfs/blue-acrylic.binary"/>
		<material type="merl" name="white_marble" file="./brdfs/pearl-paint.binary"/>
		<material type="merl" name="red_fabric" file="./brdfs/red-fabric.binary"/>
		<material type="mix" name="checker_floor">
			<material name="aniso_copper"/>
			<material name="wall"/>
			<scale texture="checkerboard">
				<color1 value="1"/>
				<color2 value="0"/>
				<scale x="0.2" y="0.2"/>
			</scale>
		</material>
	</scene>

	<camera>
		<position x="0" y="-60" z="12"/>
		<target x="0" y="0" z="12"/>
		<up x="0" y="0" z="1"/>
		<fov value="30"/>
		<width value="1280"/>
		<height value="960"/>
		<focaldist value="64"/>
		<dof value="0.45"/>
	</camera>

	<config>
		<sampler type="adaptive" min="64" max="64"/>
		<filter type="mitchell" w="1.5" h="1.5" b="0.33" c="0.33"/>
		<renderer type="path" min_depth="3" max_depth="8"/>
		<!-- Increase step resolution when running final render -->
		<vol_integrator type="single_scatter" step="0.2"/>
	</config>
</xml>

